--- 
id: "jpay" 
title: "JPay"
hide_title: "true"
---
 
![](/img/providers/logos/jpay.png)

# JPay

## About
JPay is a payment provider that allows Individual clients to send and deposit funds to Business clients of JPAY through a local bank account in Japan


| Provider Name                | JPay                 |
|------------------------------|----------------------|
| Classification               | Voucher processor    |
| Regions                      | Japan                |
| Currencies                   | `JPY`                |
| Methods/PaymentTxTypes       | `WebRedirectDeposit` |
| PaymentIQ Configuration File | `JPayConfig`         |

## Configuration Information

<details>
<summary>Click to view example configuration</summary>
<br/>

```xml
<com.devcode.paymentiq.integration.jpay.JPayConfig>
  <enabled>true</enabled>
  <testMode>true</testMode>
  <container>iframe</container>
  <accounts>
    <entry>
      <string>default</string>
      <account>
        <siteId>???</siteId>
        <accountID>???</accountID>
        <merchantId>???</merchantId><!-- used only for Signature calculation  -->
        <email>???</email><!-- used only for Signature calculation  -->
        <supportedCurrencies>JPY</supportedCurrencies>
      </account>
    </entry>
  </accounts>
</com.devcode.paymentiq.integration.jpay.JPayConfig>

```
</details>

### Attributes
| Attribute  | Description                                                                                                      |
|------------|------------------------------------------------------------------------------------------------------------------|
| siteId     | Site ID provided by JPay. It is a value that uniquely identifies the merchant company.                           |
| accountID  | Merchant Account Number provided by JPay. It is a value that uniquely identifies the merchant account .          |
| merchantId | MID provided by JPay. Used to calculate the siganture.                                                           |
| email      | email address registered on merchant JPay account.                                                               |
| container  | Indicate the way that the voucher will be displayed to the user. It can take one of two values window or iframe. |

### Callback URL
Please ask JPay to configure "callback" URL:
Replace merchantID with the merchantID in PyamentIQ.

TEST<br/>
https://test-api.paymentiq.io/paymentiq/api/jpayvoucher/deposit/process/merchantID

PROD<br/>
https://api.paymentiq.io/paymentiq/api/jpayvoucher/deposit/process/merchantID

### Create JPay account 
The merchant need to create a JPay account using the url: https://jpay.orientalwallet.com/login. After the account is created the merchant should send the email address of his account to JPay, to be set on merchant configuration on JPay side. 

### Deposit flow
The user will enter the amount on the cashier, then a voucher with merchant bank information and the user transferId (a unique identifier generated by JPay for each user) will be displayed. After that the user goes to their bank account and makes a deposit using the the information from the voucher.

### Notes
1. The userId of the individual client that the merchant sends to PaymentIQ should only include alphanumeric characters. Hyphen and underscore can also be accepted.
2. Every payment that the user makes will create two transactions:
    - The first one ends with displaying the voucher to the customer. This one will stay in the WAITING_INPUT status. It can be ignored.
    - The second one is the real one. It is created when the customer has successfully paid the voucher using their bank account.
3. Make sure that you have the [lookupUser](/docs/apis_and_integration/integration_api/lookupuser) endpoint integrated into your back-end platform as it is required for this integration!

## Example Routing Rules
![](/img/providers/routing/jpay.png)

## Test Information

The test should be done with help of JPay team, where they simulate the process of the customer paying the bill with the bank account.


