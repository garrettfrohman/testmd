--- 
id: "2019-05-21_PIQ_1.3.101"
title: "1.3.101 | 2019-05-21"
--- 


| #    | Tracker      | Subject                            | Description                                                                                                                                              |
|------|--------------|----------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 8896 | Bug          | Apco - Redirect failure URL not taken from deposit input           | Made PaymentIQ pick up the failureUrl from deposit input for Apco if it is sent. Previously this did not happen which meant hte URL set in the configuration file was used.                                                                                      |
| 8884 | Bug          | Wirecard Elastic - Max field length                  | Changed max field lenght for `city` to comply with Wirecards API specification.                                                                                                                      |
| 8881 | Bug          | Send extra attributes on failed 1-click notifications            | When using asychronous 1-click providers like Veriff and Sum&substance PaymentIQ sends a notification the merchant customer. In this notification PaymentIQ sends extra attributes provided by the merchant customer, but previously only on successful verifications. Now we also send these attributes on failed verifications.                                    |
| 8876 | Improvement  | Apco - Update RAVE force payment with correct RegCountry           | Added additional needed parameter `RegCountry` for Apco RAVE force payment.                                                                                                                        |
| 8874 | Bug          | RoyalPay - Sending CC withdrawals as negative amount generates declined transactions | Fixed so that negative amount creditcard withdrawals work for RoyalPay.                                                                                                                        |
| 8870 | Bug          | Apco - Callback overrides saved creditcard masked account for PurplePay      | Since the latest feature to save PSP accounts with ApcoDeposit, we also introduced a bug where when PaymentIQ get callbacks from Apco for CC PurplePay deposits, PaymentIQ overrides the masked account with what comes in the "PaymentID" from Apco, which has the masked account but with a comma(,) instead of six stars (*).   <br/><br/>   Fixed so that we do not override the masked account for CreditCard deposits via Apco. |
| 8867 | Task         | HexoPay creditcard Boolean instead of String               | Updated Hexopay creditcard solution to send parameters as Boolean instead of String.                                                                                                                     |
| 8851 | Improvement  | Apco - Remove ForcePayment for Processing.com              | Removed ForcePaymet tag for Processing.com as that should not be included when sending ForceBank tag.                                                                                                              |
| 8841 | Task         | TicketSurf - Update to new endpoint                  | Updated the Ticketsurf endpoints for test and production as this is needed since we are using the pre-population of card data feature.                                                                                                   |
| 8838 | Bug          | SbTech - Wrong status for withdrawals that uses processBeforeAuth feature    | PaymentIQ previously set the status code `ERR_CANCELLED_BY_MERCHANT` both when a withdrawal is denied and when a transaction is cleaned up by polling job. This causes issues with SbTech's system for withdrawals that uses processBeforeAuth since PaymentIQ will send `REJECTED` if the tx was cleaned up by polling job. Changed to send `CANCELLED` in that case.                       |
| 8834 | Bug          | SbTech - Send pspisTranRef for cancel notifications            | Included the pspisTranRef parameter with a random UUID when sending cancel notifications for SbTech initiated payments that has expired.                                                                                                   |
| 8826 | Bug          | SbTech - Issue with withdrawals that are using processBeforeAuth       | When using the processBeforeAuth feature, the MerchantAuthorize is done after user redirect at provider callback. This is a problem for SB Tech since merchantTxId is set at MerchantAuthorize and this value is important for for SbTech's status request to work.   <br/>   Changed to only "process before auth" if it is not an SbTech merchant.                           |
| 8821 | Improvement  | MiFinity: add bank fields mapping for Germany              | Added support for German bankfieldmapping for MiFinity.                                                                                                                              |
| 8817 | Task         | BO reading from Elastic Search has export issues after upgrading Real Time Analyics           | Resolved data export issues after the Analytics update.                                                                                                                              |
| 8816 | Improvement  | Apco - Save PSP accounts for ApcoDeposit                 | Added so that User PSP accounts are now saved for ApcoDeposit.                                                                                                                           |
| 8815 | Bug          | Fee for 1-click zimpler deposit calculates wrong             | Resolved bug for Zimpler 1-Click Deposit where the fee was calculated incorrectly.                                                                                                                     |
| 8757 | New Provider | Interac - Combined Flow                      | Added full support for Interac - Combined Flow (CPI). The combined flow is enabled by setting `<method>COMBINED</method>` in the InteracConfig.                                                                                                |
| 8741 | New Provider | APCO - Elegro                          | Added new provider Elegro for APCO.                                                                                          |
| 8638 | New Provider | New provider Isignthis                       | Added new provider iSignthis.                                                                                                 |
| 8591 | Bug          | Fix parameter accountname for Billspay withdrawals             | Previously PaymentIQ populated the parameter accountname for Billspay from the beneficiaryName parameter in AbstractBankWithdrawalInput. If a beneficiaryName was not provided PaymentIQ sent an empty value to Billspay. Now PaymentIQ takes username from verifyuser data if the beneficiaryName is not provided by the merchant.                                  |
| 7772 | New Provider | IMerchantPay                         | Added new provider IMerchantPay (previously IntraPay).                                                                                          |
| 5794 | New Provider | MobilePay                          | Added new provider MobilePay.                                                                                                 |


