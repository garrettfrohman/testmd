--- 
id: "2020-11-17_PIQ_1.4.64"
title: "1.4.64 | 2020-11-17"
--- 


| #     | Tracker     | Subject   | Description    |
|-------|-------------|-----------|----------------|
| 13364 | Bug | Update txRefId regex to allow merchantIds with up to 10 digits | Fixed a bug validating MIDs that has 10 digits |
| 13254 | Task | BamboraGa - Send card holder name for VISA OCTs when the card issuer country is outside EU/EES | Visa has a current requirement for OCT transactions. Card holder names (first name and last name) should be sent in authorization requests for Visa cards that have been issued outside EU or EEA. Cards issued in South Africa are required to have card holder names by law.<br/><br/>If name field support has been enabled this feature sends card holder names for OCT transactions using Visa cards issued outside EU/EEA.<br/><br/>Name field support for OCTs is enabled in BamboraGaConfig with: `<addCardHolderName>true</addCardHolderName>`. <br/><br/>Card holder names are by default taken from the response of MerchantVerifyUser (firstName and lastName) This can be overridden so card holder names will be taken from cardHolder value in the credicard withdrawal request (CreditcardWithdrawalInput) as described in ticket #13252  |
| 13252 | Task | Add option to use card holder as name values for Creditcard Withdrawals | Added a feature flag to enable sending card holder as name values for OCT transactions in authorization requests. Enabled by adding `<useCardholderAsName>true</useCardholderAsName>` in provider account config. <br/><br/>The card holder value is the value in the cardHolder field found in the creditcard withdrawal request (CreditcardWithdrawalInput). |
| 13253 | Task | BamboraGa - Attempt to convert card holder name to alphanumeric if needed | This only applies if sending card holder in authorization requests is enabled.<br/><br/>During authorization requests, BamboraGa accept only card holder names that are alphanumeric (a-z, A-Z letters or 0-9 digits) and of min length 1 and of max length 35. Having a card holder name with any other characters will cause the transaction to fail.<br/><br/> This feature will attempt to convert non alphanumeric characters to alphanumeric. For example: å will be converted to a, Š to S (characters will be converted to their canonical form). But some characters, like Cyrillic, will not be able to be converted to a latin character with this feature. |
| 13349 | Task | BamboraGa - Send only first name in case name fields contain double names in auth requests | This only applies if sending card holder in authorization requests is enabled.<br/><br/>During authorization requests BamboraGa accept only card holder names that are alphanumeric (a-z, A-Z letters or 0-9 digits) and of min length 1 and of max length 35. Having a card holder name with any other characters will cause the transaction to fail.<br/><br/> That means that any name sent cannot contain space or hyphen characters like in double names. This feature will send only the first name in a double name. This applies for both first names and family names. |
| 13339 | Task | Paywize - map "unknown" response code to WAITING_NOTIFICATION PIQ status | Mapped "unknown" response code to WAITING_NOTIFICATION status |
| 13298 | Provider | Biilz - redirect not working in iframe | Updated so that it's now possible to set the redirect container settings from BiilzConfig. |
| 13294 | Provider | EPay fix redirect / callback issues | Fixed redirect and callback issues for Epay 3DS. |
| 13288 | Task | Paramount Payout support for SUCCESS_WAITING_CONFIRMATION | Updated Paramount payouts to set the transactions to state SUCCESS_WAITING_CONFIRMATION until the final callback is received. |
| 13285 | Provider | AstropayCard - Send default "description" parameter if not set | PaymentIQ now sends value "NA" as the "description" parameter to AstropayCard if it's not set by the "defaultDescriptor" entry in the configuration. Not sending this parameter caused declined transactions. |
| 13255 | Task | PayRetailers - Sanitize document number | Removing all non-numerical characters from the documentNumber parameter before sending it to PayRetailers |
| 13211 | Provider | Twint - Handle 504 timeouts on status check | Fixed so that PIQ sets the status back to WAITING_INPUT when receiving 504 timeouts on the status request. This will allow a new status check to be made. |
| 13203 | Provider | Xpate - Add 3DS fallback support | Implemented support for credit card 3DS fallback transactions for Xpate. |
| 13172 | Provider | Brite - Implement reversals | Added support for reversals. A reversal transaction will be created if PIQ receives a failure callback for a withdrawal that was successfully sent to Brite.<br/><br/>Also, if a withdrawal was successfully sent but Brite has not yet sent a confirmation callback that the money was sent, the status in PIQ will be SUCCESS_WAITING_CONFIRMATION. <br/><br/>When the confirmation callback is received the status will be changed to either SUCCESS_WITHDRAWAL_AUTO_APPROVAL or SUCCESS_WITHDRAWAL_APPROVAL depending on the approval method. |
| 13103 | Task | SafeCharge - Add option to ignore pending callback | Added a configuration option to ignore the pending callbacks that can cause issues if SafeCharge sends several callbacks at the same time. <br/><br/>Activate this feature by adding the following in SafeChargeRestConfig:<br/>`<ignorePendingCallback>true</ignorePendingCallback>`<br/>It can be used both on account and top level. Default is false. |
| 13063 | Provider | New optional bank withdrawal input fields - accountName and accountType | Added two new fields that can be used with bank withdrawal TxTypes. The fields are currently not used by any provider, its use right now is only with the "mock" provider ManualBanking. |
| 12648 | Feature | Add new condition - All Cards Verified | Added a custom condition for Approval rules that verifies that all the user's accounts with a specified status and provider type has the specified verification status. Also added new actions to send email alerts on match. |
| 12905 | New Provider | CleanPay Integration | Integrated CleanPay which is a credit card provider offering 3DS deposits.|
| 12280 | New Provider | J-Pay integration | Integrated provider JPay which is a voucher solution supporting only deposits.  |
| 11266 | New Provider | Adyen integration | Added new payment methods to Adyen integration. Creditcard (including Auth, Capture, Void), Trustly, Paysafecard, Giropay and Swish. |
| 10493 | New Provider | Integrate AIBMS via their PSP  | Integrated AIBMS, a new credit card processor that supports CreditcardDeposit, Capture, Void, Refund, CreditcardWithdrawal and CreditcardAccountVerification with external 3DSv1 and 3DS2.|
| 8434 | Task | Fix for bank mapping 'limit' issue | Introducing a new bank mapping view in PaymentIQ back office, which will replace the `<bankMappings>` used for example in InPayConfig and others. This will:<br/> - Support having more records than today<br/> - Make it possible to search for mappings<br/> - Create one mapping for one environment<br/> - Inherit and override bank mapping on a merchant level |
